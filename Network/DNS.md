# DNS Server

### DNS 란 ?
DNS(Domain Name System) 서버라고 한다.    
인터넷 서버들은 개별적으로 유일한 숫자 형태의 IP 주소를 사용한다. (192.000.~~~)  
하지만, 이러한 IP의 숫자형태는 사람이 기억하기에는 여간 불편한게 아니다. 그래서 이 IP주소의 숫자의 형태를
사람이 보기 쉬운 형태인 언어 형태로 변환하는 작업을 DNS가 수행한다.  

`www.google.com` => `216.239.34.117` 

그래서 우리가 url 주소에서 `www.google.com`으로 검색 할 때 DNS 서버는 이 도메인 주소에 해당하는 IP주소인 `216.239.34.117`를 찾아서 요청한 내 컴퓨터로 전송을 해주고 실제 내 컴퓨터는 DNS로 받은 이 IP주소로 접속하게 되는 것이다.  

### 도메인 주소 체계도

한대의 DNS서버만으로는 현재 세계에 있는 모든 IP를 관리하기 힘들다. 트리 구조 형식의 도메인 이름 체계도가 생겼다. 
![dns](/Network/img/dns.png)
(출처 : 이것이 리눅스다(책))

### 동작 과정
`www.google.com`을 url에 입력하였을 때 `DNS`의 동작과정을 살펴보겠다.

1. 웹브라우저 URL창에 www.google.com을 입력 후 Enter
2. 현재 내 PC는 로컬 DNS 서버 IP를 확인 후 `www.google.com` IP 주소좀 알려줘~ 라고 알린다.
(리눅스 기준, DNS서버 IP주소 확인은 `/etc/resolv.conf`)
3. 로컬 DNS 서버는 도메인 이름체계도에서 맨 부모격인 `Root 네임서버`에게 물어본다.
4. `Root 네임서버`는 자신의 자식인 com, net, kr...기타 등등 어디로 가야할지 알려준다. 여기서는 www.google.com이니 com을 알려준다.
5. com이란 걸 응답받은 `로컬 네임서버`는 `com 네임서버`에게 이번에는 google이 있는지 물어본다. 
6. `com 네임서버`는 google 주소를 알려주고 `로컬 네임서버`는 `google.com 네임서버`에게 최종 질의를 한다.
7. `google.com 네임서버`는 최종적으로 www.googl.com에 대한 IP 주소를 로컬 네임서버에게 주고 로컬 네임서버가 다시 내 PC에게 IP를 전달한다. 

(질의 응답의 반복으로 DNS 서버들은 endPoint를 알려주는 역할을 한다.)

[Reference]
- 이것이 리눅스다(한빛미디어)